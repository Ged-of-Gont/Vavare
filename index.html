<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weave Simulator</title>

  <!-- Modern fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Fraunces:opsz,wght@9..144,600&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="page-header">
    <h1 class="brand"><span>Weave</span> Simulator</h1>
    <p class="tagline">Draft, color, and explore classic 4-shaft structures.</p>
  </header>

  <section class="card controls">
    <div class="field">
      <label for="pattern">Pattern</label>
      <select id="pattern">
        <option value="plain">Plain</option>
        <option value="twill2x2">Twill 2×2 (4-shaft)</option>
        <option value="basket2x2">Basket 2×2 (2-shaft)</option>
        <option value="twill2_1_3shaft">Twill 2/1 (3-shaft)</option>
        <option value="pointTwill4">Point Twill (4-shaft)</option>
        <option value="brokenTwill4">Broken Twill (4-shaft)</option>
        <option value="herringbone4">Herringbone (4-shaft)</option>
        <option value="birdsEye4">Bird’s-Eye (4-shaft)</option>
        <option value="gooseEye4">Goose-Eye (4-shaft)</option>
        <option value="rosepath4">Rosepath (4-shaft)</option>
        <option value="msos4">M’s & O’s (4-shaft)</option>
        <option value="huckSpot4">Huck (spot, 4-shaft)</option>
        <option value="logCabin">Log Cabin (color-and-weave)</option>
      </select>
    </div>

    <div class="field">
      <label for="warpCount">Warp ends</label>
      <input id="warpCount" type="number" min="4" max="64" value="12" />
    </div>

    <div class="field">
      <label for="weftCount">Weft picks</label>
      <input id="weftCount" type="number" min="4" max="64" value="12" />
    </div>

    <div class="field">
      <label for="cellSize">Cell size (px)</label>
      <input id="cellSize" type="number" min="10" max="60" value="46" />
    </div>

    <div class="field">
      <label for="warpA">Warp A</label>
      <input id="warpA" type="color" value="#2b4fff" />
    </div>
    <div class="field">
      <label for="warpB">Warp B</label>
      <input id="warpB" type="color" value="#7aa1ff" />
    </div>
    <div class="field">
      <label for="weftA">Weft A</label>
      <input id="weftA" type="color" value="#ff2b2b" />
    </div>
    <div class="field">
      <label for="weftB">Weft B</label>
      <input id="weftB" type="color" value="#ffa0a0" />
    </div>

    <div class="actions">
      <button id="applyAB" class="btn">Apply A/B</button>
      <button id="randomize" class="btn ghost">Randomize A/B</button>
      <button id="save" class="btn">Save JSON</button>
      <label class="btn file">
        Load JSON
        <input id="load" type="file" accept="application/json" />
      </label>
    </div>
  </section>

  <section class="card canvas-card">
    <div class="layout">
      <div class="spacer" aria-hidden="true"></div>
      <div id="warpBar" class="bar warp"></div>

      <div class="spacer2" aria-hidden="true"></div>
      <div id="threading" class="draft threading"></div>

      <div id="weftBar" class="bar weft"></div>
      <canvas id="weave" width="800" height="800" aria-label="weave preview"></canvas>
      <div id="treadling" class="draft treadling"></div>
    </div>

    <div id="tieupWrap" class="tieup-wrap">
      <div class="tieup">
        <div class="hdr"></div>
        <div class="hdr">S1</div><div class="hdr">S2</div><div class="hdr">S3</div><div class="hdr">S4</div>
        <div class="rowhdr">T1</div><label><input type="checkbox" data-t="1" data-s="1"></label><label><input type="checkbox" data-t="1" data-s="2"></label><label><input type="checkbox" data-t="1" data-s="3"></label><label><input type="checkbox" data-t="1" data-s="4"></label>
        <div class="rowhdr">T2</div><label><input type="checkbox" data-t="2" data-s="1"></label><label><input type="checkbox" data-t="2" data-s="2"></label><label><input type="checkbox" data-t="2" data-s="3"></label><label><input type="checkbox" data-t="2" data-s="4"></label>
        <div class="rowhdr">T3</div><label><input type="checkbox" data-t="3" data-s="1"></label><label><input type="checkbox" data-t="3" data-s="2"></label><label><input type="checkbox" data-t="3" data-s="3"></label><label><input type="checkbox" data-t="3" data-s="4"></label>
        <div class="rowhdr">T4</div><label><input type="checkbox" data-t="4" data-s="1"></label><label><input type="checkbox" data-t="4" data-s="2"></label><label><input type="checkbox" data-t="4" data-s="3"></label><label><input type="checkbox" data-t="4" data-s="4"></label>
      </div>
    </div>
  </section>

  <footer class="footer">Built for exploration—4-shaft friendly, color-obsessed.</footer>

  <script src="weave.js"></script>
  <script src="app.js"></script>
</body>
</html>
