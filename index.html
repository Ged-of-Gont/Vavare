<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weave Simulator</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 16px; display: grid; gap: 12px; }
    .controls { display: grid; gap: 8px; max-width: 820px; grid-template-columns: repeat(6, minmax(0, 1fr)); align-items: end; }
    .controls label { font-size: 12px; color: #333; }
    .controls > div { display: grid; gap: 4px; }
    canvas { border: 1px solid #ccc; max-width: 100%; height: auto; }
    button { padding: 6px 10px; }
  </style>
</head>
<body>
  <h1>Weave Simulator</h1>

  <div class="controls">
    <div>
      <label for="pattern">Pattern</label>
      <select id="pattern">
        <option value="plain">Plain</option>
        <option value="twill2x2">Twill 2Ã—2</option>
      </select>
    </div>

    <div>
      <label for="warpCount">Warp threads</label>
      <input id="warpCount" type="number" min="2" max="400" value="40" />
    </div>

    <div>
      <label for="weftCount">Weft threads</label>
      <input id="weftCount" type="number" min="2" max="400" value="40" />
    </div>

    <div>
      <label for="warpA">Warp A</label>
      <input id="warpA" type="color" value="#2b4fff" />
    </div>
    <div>
      <label for="warpB">Warp B</label>
      <input id="warpB" type="color" value="#7aa1ff" />
    </div>

    <div>
      <label for="weftA">Weft A</label>
      <input id="weftA" type="color" value="#ff2b2b" />
    </div>
    <div>
      <label for="weftB">Weft B</label>
      <input id="weftB" type="color" value="#ffa0a0" />
    </div>

    <div>
      <label for="cellSize">Cell size (px)</label>
      <input id="cellSize" type="number" min="4" max="40" value="12" />
    </div>

    <div><button id="randomize">Randomize Colors</button></div>
    <div><button id="save">Save JSON</button></div>
    <div>
      <label for="load" style="display:block">Load JSON</label>
      <input id="load" type="file" accept="application/json" />
    </div>
  </div>

  <canvas id="weave" width="800" height="800" aria-label="weave preview"></canvas>

  <!-- Plain scripts (works from file://) -->
  <script src="weave.js"></script>
  <script src="app.js"></script>
</body>
</html>
